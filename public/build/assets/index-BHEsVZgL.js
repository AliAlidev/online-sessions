import{g as c}from"./auth-CrJnzGtq.js";async function d(e){e.preventDefault();var a=e.target.closest("a");n(a);var r=e.target.closest("a").dataset.eventSlug;if(localStorage.getItem(r)){var l=e.target.closest("a").dataset.galleryUrl,t=await c();axios.post(l,{_token:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),password:localStorage.getItem(r)},{headers:{pageToken:t}}).then(o=>{o.data.success?window.location.href=o.data.url:s(e)}).catch(o=>{s(e)})}else s(e)}function n(e,a="gallery"){e.querySelector("svg").style.display="none",e.querySelector("."+a).style.display="none",e.querySelector(".loader").style.display="block"}function i(e,a="gallery"){e.querySelector("svg").style.display="block",e.querySelector("."+a).style.display="none",e.querySelector(".loader").style.display="none"}document.querySelector(".gallery-button").addEventListener("click",d);async function s(e){var a=e.target.closest("a"),r=a.dataset.url,l=await c();axios.get(r,{headers:{pageToken:l}}).then(t=>{window.location.href=t.data.url}).catch(t=>{i(a),console.log(t)})}async function u(e){e.preventDefault();var a=e.target.closest("a");n(a,"share");var r=a.dataset.url,l=a.dataset.supportImageUpload;if(l){var t=await c();axios.get(r,{headers:{pageToken:t}}).then(o=>{window.location.href=o.data.url}).catch(o=>{console.log(o)})}}document.querySelector(".share-button").addEventListener("click",u);
