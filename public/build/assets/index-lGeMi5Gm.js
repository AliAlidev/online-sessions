import{g as n}from"./auth-CrJnzGtq.js";async function d(e){e.preventDefault();var a=e.target.closest("a");c(a);var r=e.target.closest("a").dataset.eventSlug;if(localStorage.getItem(r)){var l=e.target.closest("a").dataset.galleryUrl,t=await n();axios.post(l,{_token:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),password:localStorage.getItem(r)},{headers:{pageToken:t}}).then(o=>{o.data.success?window.location.href=o.data.url:s(e)}).catch(o=>{s(e)})}else s(e)}function i(){const e=document.getElementById("page-loader");e&&(e.style.display="none")}function c(e,a="gallery"){e.querySelector("svg").style.display="none",e.querySelector("."+a).style.display="none",e.querySelector(".loader").style.display="block"}function u(e,a="gallery"){e.querySelector("svg").style.display="block",e.querySelector("."+a).style.display="none",e.querySelector(".loader").style.display="none"}document.querySelector(".gallery-button").addEventListener("click",d);async function s(e){var a=e.target.closest("a"),r=a.dataset.url,l=await n();axios.get(r,{headers:{pageToken:l}}).then(t=>{window.location.href=t.data.url}).catch(t=>{u(a),console.log(t)})}async function g(e){e.preventDefault();var a=e.target.closest("a");c(a,"share");var r=a.dataset.url,l=a.dataset.supportImageUpload;if(l){var t=await n();axios.get(r,{headers:{pageToken:t}}).then(o=>{window.location.href=o.data.url}).catch(o=>{console.log(o)})}}document.querySelector(".share-button").addEventListener("click",g);window.addEventListener("load",i);
