import{g as n}from"./auth-CrJnzGtq.js";async function d(e){e.preventDefault();var a=e.target.closest("a").dataset.eventSlug;if(localStorage.getItem(a)){var o=e.target.closest("a").dataset.galleryUrl;const s=document.getElementById("global-error-message");s.style.display="none";var r=await n();axios.post(o,{_token:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),password:localStorage.getItem(a)},{headers:{pageToken:r}}).then(t=>{t.data.success?window.location.href=t.data.url:l(e)}).catch(t=>{l(e)})}else l(e)}document.querySelector(".gallery-button").addEventListener("click",d);async function l(e){var a=e.target.closest("a").dataset.url,o=await n();axios.get(a,{headers:{pageToken:o}}).then(r=>{window.location.href=r.data.url}).catch(r=>{var s=document.getElementById("global-error-message"),t=document.querySelector("#global-error-message strong");t.textContent=r.response.data.message+": ",s.style.display="block"})}async function m(e){e.preventDefault();var a=e.target.closest("a"),o=a.dataset.url,r=a.dataset.supportImageUpload;if(r){var s=await n();axios.get(o,{headers:{pageToken:s}}).then(t=>{window.location.href=t.data.url}).catch(t=>{var c=document.getElementById("global-error-message"),g=document.querySelector("#global-error-message strong");g.textContent=t.response.data.message+": ",c.style.display="block"})}}document.querySelector(".share-button").addEventListener("click",m);
